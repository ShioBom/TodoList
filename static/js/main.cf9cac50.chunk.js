(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,n){t.exports=n(31)},23:function(t,e,n){},24:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a,o=n(0),i=n.n(o),r=n(4),c=n.n(r),u=(n(23),n(24),n(5)),s=n(6),l=n(9),d=n(7),p=n(10),h=n(3),f=(n(29),function(t){function e(){var t,n;Object(u.a)(this,e);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).handleEdit=function(t){clearTimeout(a);var e=t.target.innerText,n="<input type='text' value=".concat(e,"></input>");t.target.innerHTML=n},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("li",{className:"item"},i.a.createElement("input",{type:"checkbox",checked:"finish"===this.props.status,onChange:function(e){return t.props.handleFinish(e,t.props.index)}}),i.a.createElement("p",{onDoubleClick:function(e){return t.handleEdit(e)},onClick:function(e){t.props.handleUpdate(e,t.props.index)}},this.props.todo.value),i.a.createElement("button",{onClick:function(){return t.props.handleDel(t.props.index)}},"\u5220\u9664"))}}]),e}(o.Component)),v=Object(h.b)(function(t){return{todos:t.todos}},function(t){return{handleDel:function(e){t({type:"DEL_TODO",payload:e})},handleFinish:function(e,n){e.target.checked?t({type:"FINISH_TODO",payload:n}):t(function(t){return{type:"UPDATE_TODO",payload:t}}(n))},handleUpdate:function(e,n){clearTimeout(a);var o=e.target;a=setTimeout(function(){if("P"===o.nodeName){var e=o.childNodes[0].value;t({type:"EDIT_TODO",payload:{value:e,ind:n}})}},250)}}})(f),m=(n(30),function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this))).state={value:""},t}return Object(p.a)(e,t),Object(s.a)(e,[{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"todolist"},i.a.createElement("input",{type:"text",placeholder:"\u6dfb\u52a0TODO",value:this.state.value,onChange:function(e){t.handleChange(e)}}),i.a.createElement("button",{onClick:function(){t.props.handleAdd(t.state.value)}},"\u6dfb\u52a0"),i.a.createElement("div",null,i.a.createElement("h3",null,"\u8fdb\u884c\u4e2d",i.a.createElement("span",null,this.props.waiting.length)),this.props.waiting.map(function(t,e){return i.a.createElement(v,{key:t.id,todo:t,index:t.id,status:t.status})})),i.a.createElement("div",null,i.a.createElement("h3",null,"\u5df2\u5b8c\u6210",i.a.createElement("span",null,this.props.finish.length)),this.props.finish.map(function(t,e){return i.a.createElement(v,{key:t.id,todo:t,index:t.id,status:t.status})})))}}]),e}(o.Component)),O=Object(h.b)(function(t){return{waiting:t.todos.filter(function(t){return"waiting"===t.status}),finish:t.todos.filter(function(t){return"finish"===t.status})}},function(t,e){return{handleAdd:function(e){var n=parseInt(1e9*Math.random());console.log(n),t({type:"ADD_TODO",payload:{id:n,val:e}})}}})(m);var E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=n(8),b=n(14),y={todos:[{value:"1\u4e2a\u5f85\u529e\u4e8b\u9879",status:"finish",id:1},{value:"2\u4e2a\u5f85\u529e\u4e8b\u9879",status:"waiting",id:2},{value:"3\u4e2a\u5f85\u529e\u4e8b\u9879",status:"waiting",id:3}]},D=Object(g.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case"ADD_TODO":var o={value:a.val,status:"waiting",id:a.id};return{todos:[].concat(Object(b.a)(t.todos),[o])};case"DEL_TODO":console.log(a);var i=t.todos.filter(function(t){return t.id!==a});return console.log(i),{todos:Object(b.a)(i)};case"FINISH_TODO":var r=[];return t.todos.forEach(function(t){t.id===a&&(t.status="finish"),r.push(t)}),{todos:[].concat(r)};case"UPDATE_TODO":var c=[];return t.todos.forEach(function(t){t.id===a&&(t.status="waiting"),c.push(t)}),{todos:[].concat(c)};case"EDIT_TODO":var u=a.value,s=a.ind,l=[];return t.todos.forEach(function(t){t.id===s&&(t.value=u),l.push(t)}),{todos:[].concat(l)};default:return t}});c.a.render(i.a.createElement(h.a,{store:D},i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.cf9cac50.chunk.js.map